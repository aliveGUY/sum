<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    let categories = [
      { id: 'animal', 'parent': null },
      { id: 'mammals', 'parent': 'animal' },
      { id: 'cats', 'parent': 'mammals' },
      { id: 'dogs', 'parent': 'mammals' },
      { id: 'chihuahua', 'parent': 'dogs' },
      { id: 'labrador', 'parent': 'dogs' },
      { id: 'persian', 'parent': 'cats' },
      { id: 'siamese', 'parent': 'cats' },
    ]

    const makeTree = (categories, parent) => {
      let node = {}
      categories
        .filter(c => c.parent === parent)
        .forEach(c => node[c.id] = makeTree(categories, c.id));
      return node
    }

    console.log(
      JSON.stringify(makeTree(categories, null), null, 2)
    );
  </script>
</body>

</html>